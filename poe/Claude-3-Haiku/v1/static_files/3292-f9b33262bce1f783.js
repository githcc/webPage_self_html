"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3292],{44047:function(e,a,n){var i,l,r,t,d,o,s;n.r(a);let u={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"emailAddress"},l={defaultValue:null,kind:"LocalArgument",name:"verificationCode"}],kind:"Fragment",metadata:null,name:"settingsAddEmailOrPhoneHelpers_addEmailMutation_Mutation",selections:[{alias:null,args:r=[{kind:"Variable",name:"emailAddress",variableName:"emailAddress"},{kind:"Variable",name:"verificationCode",variableName:"verificationCode"}],concreteType:"AddEmail",kind:"LinkedField",name:"addEmail",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"primaryEmail",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"confirmedEmails",storageKey:null}],storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i],kind:"Operation",name:"settingsAddEmailOrPhoneHelpers_addEmailMutation_Mutation",selections:[{alias:null,args:r,concreteType:"AddEmail",kind:"LinkedField",name:"addEmail",plural:!1,selections:[t,d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[o,s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"6d9ff3c8ed7badced30cfdad97492d4c21719931e8c44c5601abfa429b62ded7",metadata:{},name:"settingsAddEmailOrPhoneHelpers_addEmailMutation_Mutation",operationKind:"mutation",text:null}};u.hash="8e9a49a47af3beb324b8fe076d002b1f",a.default=u},9979:function(e,a,n){var i,l,r;n.r(a);let t={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"phoneNumber"},l={defaultValue:null,kind:"LocalArgument",name:"verificationCode"}],kind:"Fragment",metadata:null,name:"settingsAddEmailOrPhoneHelpers_addPhoneNumber_Mutation",selections:r=[{alias:null,args:[{kind:"Variable",name:"phoneNumber",variableName:"phoneNumber"},{kind:"Variable",name:"verificationCode",variableName:"verificationCode"}],concreteType:"AddPrimaryPhoneNumber",kind:"LinkedField",name:"addPrimaryPhoneNumber",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primaryPhoneNumber",storageKey:null}],storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i],kind:"Operation",name:"settingsAddEmailOrPhoneHelpers_addPhoneNumber_Mutation",selections:r},params:{id:"26ae865f0686a910a86759c069eb1c0085d78b55a8abf64444ec63b03c76fb58",metadata:{},name:"settingsAddEmailOrPhoneHelpers_addPhoneNumber_Mutation",operationKind:"mutation",text:null}};t.hash="4b106b52dad1e3d933184cded3a1b61f",a.default=t},32218:function(e,a,n){var i,l,r,t;n.r(a);let d={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"emailAddress"},l={defaultValue:null,kind:"LocalArgument",name:"phoneNumber"},r={defaultValue:null,kind:"LocalArgument",name:"verificationReason"}],kind:"Fragment",metadata:null,name:"settingsAddEmailOrPhoneHelpers_sendVerificationCodeMutation_Mutation",selections:t=[{alias:null,args:[{kind:"Variable",name:"emailAddress",variableName:"emailAddress"},{kind:"Variable",name:"phoneNumber",variableName:"phoneNumber"},{kind:"Variable",name:"verificationReason",variableName:"verificationReason"}],concreteType:"SendVerificationCode",kind:"LinkedField",name:"sendVerificationCode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,i,l],kind:"Operation",name:"settingsAddEmailOrPhoneHelpers_sendVerificationCodeMutation_Mutation",selections:t},params:{id:"d418fa3d2357d089b20065226041180573fa0b0382914a90cf905435281af520",metadata:{},name:"settingsAddEmailOrPhoneHelpers_sendVerificationCodeMutation_Mutation",operationKind:"mutation",text:null}};d.hash="545eff08a9b59a6c68c5c0e01d281ca4",a.default=d},99365:function(e,a,n){var i,l,r;n.r(a);let t={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"phoneNumber"},l={defaultValue:null,kind:"LocalArgument",name:"verificationCode"}],kind:"Fragment",metadata:null,name:"settingsAddEmailOrPhoneHelpers_updatePhoneNumber_Mutation",selections:r=[{alias:null,args:[{kind:"Variable",name:"phoneNumber",variableName:"phoneNumber"},{kind:"Variable",name:"verificationCode",variableName:"verificationCode"}],concreteType:"UpdatePrimaryPhoneNumber",kind:"LinkedField",name:"updatePrimaryPhoneNumber",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"primaryPhoneNumber",storageKey:null}],storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,i],kind:"Operation",name:"settingsAddEmailOrPhoneHelpers_updatePhoneNumber_Mutation",selections:r},params:{id:"c49f5f64947c2946f8007f366bbc0ca5b1f0bbbdc6b72ad97be90533f0e83c28",metadata:{},name:"settingsAddEmailOrPhoneHelpers_updatePhoneNumber_Mutation",operationKind:"mutation",text:null}};t.hash="7245c26277d46d7904b1d2f10e4ba96a",a.default=t},61025:function(e,a,n){n.d(a,{N:function(){return sendVerificationCodeVariables},Sd:function(){return useAddPhoneNumberMutation},dV:function(){return useUpdatePhoneNumberMutation},mu:function(){return useAddEmailMutation},nQ:function(){return useSendVerificationCodeMutation}});var i=n(22578),l=n(51027),r=n(6793);let useSendVerificationCodeMutation=()=>(0,i.useMutation)(n(32218)),sendVerificationCodeVariables=e=>{let{inputType:a,emailOrPhone:n,addOrChange:i}=e,t=a===r.n$.emailAddress;return{verificationReason:t?l.Z.add_email:"Add"===i?l.Z.add_phone_number:l.Z.update_phone_number,emailAddress:t?n:void 0,phoneNumber:t?void 0:n}},useAddEmailMutation=()=>(0,i.useMutation)(n(44047)),useUpdatePhoneNumberMutation=()=>(0,i.useMutation)(n(99365)),useAddPhoneNumberMutation=()=>(0,i.useMutation)(n(9979))},99554:function(e,a,n){n.d(a,{SD:function(){return addOrChangeEmailOrPhoneTitle},eI:function(){return showDefaultErrorMessage},aU:function(){return useLogout}});var i=n(11163),l=n(67294),r=n(22120),t=n(44311),d=n(2197),o=n(90289),s=n(61858),u=n(66795),m=n(53533),c=n(47986),g=n(37115);let p=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,validateAndParse=e=>{if("string"!=typeof e)throw TypeError("Invalid argument expected string");let a=e.match(p);if(!a)throw Error(`Invalid argument not valid semver ('${e}' received)`);return a.shift(),a},isWildcard=e=>"*"===e||"x"===e||"X"===e,tryParse=e=>{let a=parseInt(e,10);return isNaN(a)?e:a},forceType=(e,a)=>typeof e!=typeof a?[String(e),String(a)]:[e,a],compareStrings=(e,a)=>{if(isWildcard(e)||isWildcard(a))return 0;let[n,i]=forceType(tryParse(e),tryParse(a));return n>i?1:n<i?-1:0},compareSegments=(e,a)=>{for(let n=0;n<Math.max(e.length,a.length);n++){let i=compareStrings(e[n]||"0",a[n]||"0");if(0!==i)return i}return 0},compareVersions=(e,a)=>{let n=validateAndParse(e),i=validateAndParse(a),l=n.pop(),r=i.pop(),t=compareSegments(n,i);return 0!==t?t:l&&r?compareSegments(l.split("."),r.split(".")):l||r?l?-1:1:0};var _=n(74929);let isEligibleForDesktopExternalLogin=e=>e&&(0,_.P)(e)&&compareVersions((0,_.Sf)(e),"1.1.4")>=0;var f=n(6793);let showDefaultErrorMessage=(e,a)=>{e({content:a("Something went wrong. Please try again."),type:d.pC.error})},useLogout=e=>{let a=(0,i.useRouter)(),n=(0,g.F)(),p=(0,d.ZP)(),{t:_}=(0,r.$G)(),b=(0,u.q)(),[h,y]=(0,l.useState)(!1),k=(0,l.useCallback)(()=>{let i=(0,s.e)();y(!0),(0,t.commitMutation)(i,{mutation:e,variables:{},onCompleted:()=>{(0,o.E)(),(0,c.ie)(),isEligibleForDesktopExternalLogin(n)?(0,f.PW)(a).then(()=>{b(i)}):(0,f.X0)(a).then(()=>{b(i)}),y(!1),(0,m.sr)()},onError:()=>{showDefaultErrorMessage(p,_),y(!1)}})},[e,b,a,p,n,_]);return[k,h]},addOrChangeEmailOrPhoneTitle=(e,a,n)=>n("Add"===e?a===f.n$.emailAddress?"Add email":"Add phone number":a===f.n$.emailAddress?"Change email":"Change phone number")},11011:function(e,a){var n,i;(i=n||(n={})).success="success",i.invalid_verification_code="invalid_verification_code",i.already_added_by_same_user="already_added_by_same_user",i.already_added_by_another_user="already_added_by_another_user",i.rate_limit_exceeded_default="rate_limit_exceeded_default",i.no_verification_in_progress="no_verification_in_progress",i.phone_already_added_by_another_user="phone_already_added_by_another_user",i.email_already_added_by_another_user="email_already_added_by_another_user",i.phone_already_added_by_same_user="phone_already_added_by_same_user",i.email_already_added_by_same_user="email_already_added_by_same_user",a.Z=n},51027:function(e,a){var n,i;(i=n||(n={})).signup="signup",i.login="login",i.add_phone_number="add_phone_number",i.update_phone_number="update_phone_number",i.update_email="update_email",i.add_email="add_email",a.Z=n}}]);