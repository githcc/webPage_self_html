(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{86867:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return l(57509)}])},26905:function(e,a,l){"use strict";var n,t,i,r,s,o;l.r(a);let u=(n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},t={kind:"Variable",name:"handle",variableName:"handle"}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},t],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:i,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},r],storageKey:null},o,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},r],storageKey:null},{alias:"filteredChats",args:i,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,r],storageKey:null}]},params:{id:"0f089408ea3435cb667684cc5b950e4967a840afda550574ac5b586e61b14839",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});u.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=u},31233:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(26905)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{args:null,kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="b3345c874d1c4fdc62d7dabdb7768b9d",a.default=t},20039:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterFooter_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null};n.hash="521c676908f23048956c9f3e7cfa7a8b",a.default=n},27558:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ChatHistoryListFilterHeader_bot",selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],type:"Bot",abstractKey:null};n.hash="1693d380b0561caa477376bfca76665d",a.default=n},80894:function(e,a,l){"use strict";var n,t,i,r;l.r(a);let s={fragment:{argumentDefinitions:n=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:null,name:"ChatHistoryListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ChatHistoryListPaginationQuery",selections:[{alias:null,args:t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},i],storageKey:null},r,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},i],storageKey:null},{alias:null,args:t,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},params:{id:"a750f3472feeae9ce1c370dd8c4a7a92cde616b45a792cee0dde441d0e6d76c8",metadata:{},name:"ChatHistoryListPaginationQuery",operationKind:"query",text:null}};s.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=s},22256:function(e,a,l){"use strict";var n;l.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:n=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:n},fragmentPathInResult:[],operation:l(80894)}},name:"ChatHistoryList_queryRoot",selections:[{alias:"chats",args:null,concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null}],storageKey:null}],type:"QueryRoot",abstractKey:null};t.hash="dde16d83009bf18f7f6de7144ec92cdc",a.default=t},77502:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",metadata:null,name:"ChatHistoryMain_queryRoot",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null}],storageKey:null}]}],type:"QueryRoot",abstractKey:null};n.hash="0168dd45195034f4316453a39e927b15",a.default=n},19652:function(e,a,l){"use strict";l.r(a);let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}],storageKey:null}],type:"ChatEdge",abstractKey:null};n.hash="e6a030d05088ef01de4d75e4fc1025a8",a.default=n},75445:function(e,a,l){"use strict";var n,t,i,r,s,o,u,d,c,g;l.r(a);let m=(n=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],t={kind:"Variable",name:"handle",variableName:"handle"},r=[i={kind:"Literal",name:"first",value:15}],c=[{alias:null,args:null,concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chatCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastInteractionTime",storageKey:null},{alias:null,args:null,concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"botId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletionState",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"picture",plural:!1,selections:[d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"localName",storageKey:null}],type:"LocalBotImage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"URLBotImage",abstractKey:null}],storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"botMembersCount",storageKey:null},{alias:null,args:null,concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},s],storageKey:null},d,{kind:"TypeDiscriminator",abstractKey:"__isNode"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOptimistic",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},s],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},s],g=[i,t],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"chatsHistoryPageQuery",selections:[{args:[t,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{alias:null,args:r,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:c,storageKey:"chats(first:15)"},{alias:null,args:r,filters:null,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:g,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:c,storageKey:null},{alias:"filteredChats",args:g,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{alias:null,args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[u,s,o],storageKey:null}]}]},params:{id:"b7d3ba7fb67be98dc9a6ef501cf445743a495a6e417ce88847701e35e4fcfc65",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});m.hash="644c3d8a9763c5519f4571d7a689ec86",a.default=m},75658:function(e,a,l){"use strict";var n=l(85893),t=l(42116),i=l(44254);a.Z=e=>(0,n.jsx)(i.Z,{leftNavItem:(0,n.jsx)(t.Z,{}),...e})},82435:function(e,a,l){"use strict";var n=l(85893),t=l(67294),i=l(69295),r=l(34616),s=l(22424),o=l.n(s);a.Z=(0,t.forwardRef)((e,a)=>{let{text:l,selected:t=!1,className:s,...u}=e;return(0,n.jsx)(i.Xd,{className:(0,r.$)(o().chipButton,s),"aria-current":t,ref:a,...u,children:l})})},16392:function(e,a,l){"use strict";l.d(a,{C:function(){return usePagingTriggerRef}});var n=l(85893),t=l(67294),i=l(34616),r=l(13333),s=l.n(r),o=l(30791);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:l,rootMargin:n,scrollRootRef:i}=e,r=t.useRef(null),s=(0,t.useContext)(o.f),u=void 0!==i?i:s;return(0,t.useEffect)(()=>{var e;if(!r.current||!l)return;let t=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==u?void 0:u.current)&&void 0!==e?e:null,threshold:0,rootMargin:n});return t.observe(r.current),()=>{t.disconnect()}},[a,l,n,u]),r},calcRootMargin=(e,a,l)=>"".concat(!a&&l?e:0,"px ").concat(a&&!l?e:0,"px ")+"".concat(a||l?0:e,"px ").concat(a&&l?e:0,"px");a.Z=e=>{let{children:a,className:l,loadMore:t,hasMore:r,isLoading:o,loadingState:u=null,error:d,errorState:c=null,threshold:g,horizontal:m=!1,reverse:y=!1,scrollRootRef:k}=e,h=usePagingTriggerRef({loadMore:t,canLoadMore:r&&!o&&!d,rootMargin:calcRootMargin(g,m,y),scrollRootRef:k}),p=d?c:(0,n.jsx)("div",{ref:h,className:s().pagingTrigger,children:o&&u});return(0,n.jsxs)("div",{className:(0,i.$)(s().container,m&&s().horizontal,l),children:[y&&p,a,!y&&p]})}},57509:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return N}});var n=l(85893),t=l(22120);l(44311);var i=l(11163),r=l(67294),s=l(22578),o=l(19029),u=l(6488),d=l(69295),c=l(60841),g=l.n(c),chat_ChatHistoryListFilterFooter=e=>{let{bot:a,clearFilter:i,noResults:r=!1}=e,o=(0,s.useFragment)(l(20039),a),{t:u}=(0,t.$G)(),c=u(r?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:null==o?void 0:o.displayName});return(0,n.jsxs)("div",{className:g().container,children:[o&&(0,n.jsx)("p",{children:c}),(0,n.jsx)(d.oM,{onClick:i,children:u("Clear filter")})]})},m=l(82435),y=l(88478),k=l.n(y),chat_ChatHistoryListFilterHeader=e=>{let{bot:a,clearFilter:i}=e,r=(0,s.useFragment)(l(27558),a),{t:o}=(0,t.$G)();return(0,n.jsxs)("div",{className:k().container,children:[r&&(0,n.jsx)(m.Z,{text:r.displayName,selected:!0}),(0,n.jsx)(d.oM,{onClick:i,children:o("Clear filter")})]})},h=l(16392),p=l(53231),F=l.n(p),f=l(91731),chat_ChatHistoryPagedList=e=>{let{edges:a,loadNext:t,hasNext:i,isLoadingNext:o}=e,u=(0,s.useFragment)(l(19652),a),[d,c]=(0,r.useState)(null),g=(0,r.useCallback)(()=>{t(10,{onComplete:e=>{e&&c(e)}})},[t]);return(0,n.jsx)(h.Z,{className:F().mainSection,loadMore:g,hasMore:i,isLoading:o,error:!!d,threshold:1e3,children:u.map(e=>(0,n.jsx)(f.Z,{chat:e.node},e.node.id))})},chat_ChatHistoryFilteredList=e=>{let{root:a,onFilterClear:t}=e,{data:i,loadNext:o,hasNext:u,isLoadingNext:d}=(0,s.usePaginationFragment)(l(31233),a),[c,g]=(0,r.useState)(!0),m=(0,r.useCallback)(()=>{g(!1),null==t||t()},[t]);return(0,n.jsxs)("div",{children:[c&&(0,n.jsx)(chat_ChatHistoryListFilterHeader,{bot:i.bot,clearFilter:m}),(0,n.jsx)(chat_ChatHistoryPagedList,{edges:i.filteredChats.edges,loadNext:o,hasNext:u,isLoadingNext:d}),c&&(0,n.jsx)(chat_ChatHistoryListFilterFooter,{bot:i.bot,clearFilter:m,noResults:0===i.filteredChats.edges.length})]})},K=l(47392),b=l(52779),C=l.n(b),chat_ChatHistoryList=e=>{let{root:a,setRefetchFullList:i}=e,{data:o,loadNext:u,hasNext:c,isLoadingNext:g,refetch:m}=(0,s.usePaginationFragment)(l(22256),a),{t:y}=(0,t.$G)();return((0,r.useEffect)(()=>{m&&i(m)},[i,m]),0===o.chats.edges.length)?(0,n.jsxs)("div",{className:C().emptyContainer,children:[(0,n.jsx)("p",{children:y("You don't have any chats.")}),(0,n.jsxs)(d.oM,{href:"/",children:[(0,n.jsx)(K.Z,{}),y("New chat")]})]}):(0,n.jsx)(chat_ChatHistoryPagedList,{edges:o.chats.edges,loadNext:u,hasNext:c,isLoadingNext:g})},chat_ChatHistoryMain=e=>{var a,t;let{root:d}=e,c=(0,s.useFragment)(l(77502),d),[g,m]=(0,r.useState)(),y=(0,i.useRouter)(),k=(0,r.useCallback)(()=>{var e;g?(y.replace("/chats",void 0,{shallow:!0}),g({})):y.push("/chats"),(0,o.Z)("poe/action_log",{action_type:u.Z.clear_chat_history_page_filter,bot_id:null===(e=c.bot)||void 0===e?void 0:e.botId})},[null===(a=c.bot)||void 0===a?void 0:a.botId,g,y]);return(null===(t=c.bot)||void 0===t?void 0:t.botId)?(0,n.jsx)(chat_ChatHistoryFilteredList,{root:c,onFilterClear:k}):(0,n.jsx)(chat_ChatHistoryList,{root:c,setRefetchFullList:m})},L=l(42050),_=l(75658),S=l(50515),x=l(20675),H=l(50530);let v=(0,x.T)(e=>{let{t:a}=(0,t.$G)();return(0,n.jsxs)(L.Z,{header:(0,n.jsx)(_.Z,{title:a("All chats")}),children:[(0,n.jsx)(S.Z,{title:a("All chats")}),(0,n.jsx)(chat_ChatHistoryMain,{root:e})]})},{query:l(75445),variables:e=>{let a=e.bot;return(0,H.H)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0});var N=v},52779:function(e){e.exports={emptyContainer:"ChatHistoryList_emptyContainer__ju5Ha"}},60841:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},88478:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},53231:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},22424:function(e){e.exports={chipButton:"Chip_chipButton__dc9hf"}},13333:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}}},function(e){e.O(0,[1664,5675,6835,3974,6793,9209,5566,1142,7840,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);